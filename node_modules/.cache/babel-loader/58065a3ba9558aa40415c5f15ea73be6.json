{"ast":null,"code":"import _toConsumableArray from\"D:\\\\rs-school\\\\todo-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\rs-school\\\\todo-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\rs-school\\\\todo-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\rs-school\\\\todo-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\rs-school\\\\todo-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\rs-school\\\\todo-task\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Header from'./../Header/Header';import SearchPanel from'./../SearchPanel/SearchPanel';import TodoList from'./../TodoList/TodoList';import ItemsAddForm from'./../ItemsAddForm/ItemsAddForm';import'./App.css';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={todoData:[{id:1,title:'Пофлэксить',important:false,done:false},{id:2,title:'Залить соляру',important:false,done:false},{id:3,title:'Не кринжануть',important:false,done:false}],filter:'',add:''};_this.idGenerator=4;_this.onAddItem=_this.onAddItem.bind(_assertThisInitialized(_this));_this.onRemoveItem=_this.onRemoveItem.bind(_assertThisInitialized(_this));_this.onNameChange=_this.onNameChange.bind(_assertThisInitialized(_this));_this.onImportantSet=_this.onImportantSet.bind(_assertThisInitialized(_this));_this.onDoneSet=_this.onDoneSet.bind(_assertThisInitialized(_this));_this.onSearch=_this.onSearch.bind(_assertThisInitialized(_this));_this.searchItems=_this.searchItems.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"onAddItem\",value:function onAddItem(text){var _this2=this;this.setState(function(_ref){var todoData=_ref.todoData;var newItem={id:++_this2.idGenerator,title:text,important:false,done:false};var newArray=[].concat(_toConsumableArray(todoData),[newItem]);return{add:'',todoData:newArray};});}},{key:\"onRemoveItem\",value:function onRemoveItem(id){this.setState(function(_ref2){var todoData=_ref2.todoData;var idx=todoData.findIndex(function(item){return item.id===id;});return{todoData:[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)))};});}},{key:\"setPropFunction\",value:function setPropFunction(arr,id,propName){var idx=arr.findIndex(function(item){return item.id===id;});var newItem=arr[idx];newItem[propName]=!newItem[propName];return{arr:[].concat(_toConsumableArray(arr.slice(0,idx)),[newItem],_toConsumableArray(arr.slice(idx+1)))};}},{key:\"onImportantSet\",value:function onImportantSet(id){var _this3=this;this.setState(function(_ref3){var todoData=_ref3.todoData;var items=_this3.setPropFunction(todoData,id,'important');console.log(items.arr);return{todoData:items.arr};});}},{key:\"onDoneSet\",value:function onDoneSet(id){var _this4=this;this.setState(function(_ref4){var todoData=_ref4.todoData;var items=_this4.setPropFunction(todoData,id,'done');return{todoData:items.arr};});}},{key:\"onNameChange\",value:function onNameChange(text){this.setState({add:text});}},{key:\"onSearch\",value:function onSearch(text){this.setState({filter:text});}},{key:\"searchItems\",value:function searchItems(arr,text){if(text.length===0){return arr;}return arr.filter(function(item){return item.title.indexOf(text)>-1;});}},{key:\"render\",value:function render(){var done=this.state.todoData.filter(function(item){return item.done;}).length;var todo=this.state.todoData.length-done;var itemsForSearch=this.searchItems(this.state.todoData,this.state.filter);return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(Header,{done:done,todo:todo}),/*#__PURE__*/React.createElement(SearchPanel,{onSearch:this.onSearch,filter:this.state.filter}),/*#__PURE__*/React.createElement(TodoList,{todoData:itemsForSearch,onRemoveItem:this.onRemoveItem,onDoneSet:this.onDoneSet,onImportantSet:this.onImportantSet}),/*#__PURE__*/React.createElement(ItemsAddForm,{onAddItem:this.onAddItem,onNameChange:this.onNameChange,add:this.state.add}));}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"sources":["D:/rs-school/todo-task/src/Components/App/App.js"],"names":["React","Header","SearchPanel","TodoList","ItemsAddForm","App","props","state","todoData","id","title","important","done","filter","add","idGenerator","onAddItem","bind","onRemoveItem","onNameChange","onImportantSet","onDoneSet","onSearch","searchItems","text","setState","newItem","newArray","idx","findIndex","item","slice","arr","propName","items","setPropFunction","console","log","length","indexOf","todo","itemsForSearch","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Header from './../Header/Header';\r\nimport SearchPanel from './../SearchPanel/SearchPanel';\r\nimport TodoList from './../TodoList/TodoList';\r\nimport ItemsAddForm from './../ItemsAddForm/ItemsAddForm';\r\nimport './App.css';\r\n\r\nexport default class App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            todoData: [\r\n                {id: 1, title: 'Пофлэксить', important: false, done: false},\r\n                {id: 2, title: 'Залить соляру', important: false, done: false},\r\n                {id: 3, title: 'Не кринжануть', important: false, done: false}\r\n            ],\r\n            filter: '',\r\n            add: '',\r\n        }\r\n        this.idGenerator = 4;\r\n        this.onAddItem = this.onAddItem.bind(this);\r\n        this.onRemoveItem = this.onRemoveItem.bind(this);\r\n        this.onNameChange = this.onNameChange.bind(this);\r\n        this.onImportantSet = this.onImportantSet.bind(this);\r\n        this.onDoneSet = this.onDoneSet.bind(this);\r\n        this.onSearch = this.onSearch.bind(this);\r\n        this.searchItems = this.searchItems.bind(this);\r\n    }\r\n\r\n    onAddItem(text) {\r\n        this.setState(({ todoData }) => {\r\n            const newItem = {\r\n                id: ++this.idGenerator,\r\n                title: text,\r\n                important: false,\r\n                done: false\r\n            }\r\n            const newArray = [...todoData, newItem];\r\n\r\n            return {\r\n                add: '',\r\n                todoData: newArray\r\n            }\r\n        });\r\n    }\r\n\r\n    onRemoveItem(id) {\r\n        this.setState(({ todoData }) => {\r\n            const idx = todoData.findIndex(item => item.id === id);\r\n\r\n            return {\r\n                todoData: [...todoData.slice(0, idx), ...todoData.slice(idx + 1)]\r\n            }\r\n        });\r\n    }\r\n\r\n    setPropFunction(arr, id, propName) {\r\n        const idx = arr.findIndex(item => item.id === id);\r\n        const newItem = arr[idx];\r\n        newItem[propName] = !newItem[propName];\r\n\r\n        return {\r\n            arr: [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)]\r\n        }\r\n    }\r\n\r\n    onImportantSet(id) {\r\n        this.setState(({ todoData }) => {\r\n            const items = this.setPropFunction(todoData, id, 'important');\r\n            console.log(items.arr)\r\n            return {\r\n                todoData: items.arr\r\n            }\r\n        });\r\n    }\r\n\r\n    onDoneSet(id) {\r\n        this.setState(({ todoData }) => {\r\n            const items = this.setPropFunction(todoData, id, 'done');\r\n            return {\r\n                todoData: items.arr\r\n            }\r\n        });\r\n    }\r\n\r\n    onNameChange(text) {\r\n        this.setState({\r\n            add: text\r\n        });\r\n    }\r\n\r\n    onSearch(text) {\r\n        this.setState({\r\n            filter: text\r\n        });\r\n    }\r\n\r\n    searchItems(arr, text) {\r\n        if(text.length === 0) {\r\n            return arr;\r\n        }\r\n\r\n        return arr.filter(item => item.title.indexOf(text) > -1);\r\n    }\r\n\r\n    render() {\r\n        const done = this.state.todoData.filter(item => item.done).length;\r\n        const todo = this.state.todoData.length - done;\r\n        const itemsForSearch = this.searchItems(this.state.todoData, this.state.filter);\r\n        return(\r\n            <div className = 'app'>\r\n                <Header \r\n                    done = {done}\r\n                    todo = {todo}\r\n                />\r\n                <SearchPanel \r\n                    onSearch = {this.onSearch}\r\n                    filter = {this.state.filter}\r\n                />\r\n                <TodoList \r\n                    todoData = {itemsForSearch}\r\n                    onRemoveItem = {this.onRemoveItem}\r\n                    onDoneSet = {this.onDoneSet}\r\n                    onImportantSet = {this.onImportantSet}\r\n                />\r\n                <ItemsAddForm \r\n                    onAddItem = {this.onAddItem}\r\n                    onNameChange = {this.onNameChange}\r\n                    add = {this.state.add}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}